<div class="max-w-3xl mx-auto px-4 py-6 font-sans">
  <header class="pb-4 mb-6 border-b border-gray-200">
    <a
      routerLink="/"
      class="inline-flex items-center text-blue-600 hover:text-blue-800 hover:underline font-medium mb-3 transition-colors"
    >
      Volver
    </a>
    <h1 class="text-2xl md:text-3xl font-semibold">
      Issue #{{ issueNumber() }}
    </h1>
  </header>

  <div>
    @if (issueQuery.data() === undefined) {
    <loader />
    } @else {
    <div
      class="bg-white rounded-lg shadow-sm border border-gray-200 border-l-4 border-l-green-500 mb-6 overflow-hidden"
    >
      <issue-comment [issue]="issueQuery.data()!" />
    </div>
    }

    <section class="mt-5">
      <h2 class="text-xl font-semibold text-gray-300 mb-4">Comentarios:</h2>

      @if (issueCommentsQuery.isLoading()) {
      <loader />
      } @else {
      <div>
        @for (comment of issueCommentsQuery.data(); track comment.id) {
        <div
          class="rounded-lg shadow-sm border border-gray-200 mb-4 overflow-hidden"
        >
          <issue-comment [issue]="comment" />
        </div>
        } @empty {
        <div
          class="bg-slate-800 border border-dashed border-gray-300 rounded-lg py-12 flex flex-col items-center text-gray-500"
        >
          <i class="far fa-comment-alt text-4xl opacity-60 mb-3"></i>
          <p>No hay comentarios para este issue</p>
        </div>
        }
      </div>
      }
    </section>
  </div>
</div>
